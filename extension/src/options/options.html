<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
  </head>

  <body>
    <h1>Monica Sync Facebook</h1>

    <p>This extension syncs contacts from Facebook into Monica.</p>
    <p>To get started you need to:</p>
    <ol>
      <li>Input your <strong>monica URL and token</strong></li>
      <li>Capture your friends list from Facebook</li>
      <li>
        Then you can start crawling your friends to capture their location
        contact information
      </li>
    </ol>
    <p>
      This extension takes no action without your explicit input. But once you
      start it you can leave it running as the process can take some time.
    </p>

    <h2>1. Monica Settings</h2>
    <form id="monicaForm">
      <p>
        <label>Monica API Url: <input type="text" id="monicaApiUrl" /></label>
      </p>
      <p>
        <label
          >Monica Auth Token: <input type="text" id="monicaApiToken"
        /></label>
      </p>
      <button type="submit">Save Monica Settings</button>
    </form>

    <h2>2. Facebook Friends</h2>

    <p>
      To capture your Facebook friends open the
      <a href="https://m.facebook.com/" target="_blank">m.facebook.com</a> site
      and navigate to your friends list page. Then click the extension icon and
      click the "Scrape Friends List" button.
    </p>
    <p>NOTE: Please ensure you only have 1 Facebook tab open at any time.</p>

    <h2>3. Crawl friends</h2>
    <p>
      Once you've completed the steps above, you can start the "crawling"
      process. This extension will automatically click through all of your
      Facebook friends, click onto their about page, and then capture their
      location and other info.
    </p>
    <p>
      If your friend already exists on monica and has the same name as on
      Facebook, or if the contact in monica has the correct facebook username,
      the extension will sync this friend. That means it will copy the location,
      facebook username, profile picture, and other data to monica.
    </p>

    <h2>4. Unmatched friends</h2>
    <p>
      Many of your facebook friends won't exist in monica. If the extension
      cannot find a match, then it will save this friend to be synced later. You
      can review the list of friends waiting to be synced and choose which of
      them to copy to monica.
    </p>
    <p>
      <strong> Mis matched names.</strong> Some friends have a different name in
      monica compared to facebook. For these friends, please add their facebook
      username to monica.
    </p>
    <ol>
      <li>Click to their contact in monica</li>
      <li>Next to the "Contact Information" heading click "Edit"</li>
      <li>Click "Add"</li>
      <li>Choose "Contact type" = "facebook"</li>
      <li>Enter their facebook username</li>
      <li>Click Add</li>
    </ol>
    <p>
      <strong>What is a facebook username?</strong> For most people, their
      facebook profile is <code>facebook.com/username</code>. Then just enter
      <code>username</code>. If their facebook profile is
      <code>facebook.com?profile.php?id=00000&</code> then enter
      <code>profile.php?id=00000</code>. Please be careful not to enter anything
      except the <code>id=</code> and the number. Sometimes there is more in the
      address bar like <code>&v=info</code>, you need to skip all of that. Sorry
      this part is a bit difficult.
    </p>

    <h2>Friends Map</h2>
    <p>
      So long as you have your Monica API URL and token from 1, you can
      immediately see all your existing Monica friends on a map.
    </p>
    <p><a href="../map/map.html">View your monica friend map</a></p>

    <h2>Here be dragons</h2>
    <p>These links might get you in trouble. No warranties past this point!</p>
    <ul>
      <li><a href="../backup/backup.html">Backup</a></li>
      <li><a href="../advanced/advanced.html">Advanced options</a></li>
      <li><a href="../logs/logs.html">Logs</a></li>
    </ul>

    <script type="module" src="options.ts"></script>
  </body>
</html>
